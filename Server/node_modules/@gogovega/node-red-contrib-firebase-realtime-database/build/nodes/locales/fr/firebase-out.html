<!--
  Copyright 2022-2023 Gauthier Dandele

  Licensed under the MIT License,
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  https://opensource.org/licenses/MIT.

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/html" data-help-name="firebase-out">
	<p>Se connecte à une base de données Firebase Realtime et ajoute/modifie des données à/de la base de données.</p>
	<h3>Entrées</h3>
	<dl class="message-properties">
		<dt>payload<span class="property-type">chaîne | booléen | nombre | tableau | objet | nul</span></dt>
		<dd>les données qui seront envoyées à la base de données.</dd>
		<dt class="optional">method<span class="property-type">chaîne de caractères</span></dt>
		<dd>le type de requête à appliquer aux données (définir, pousser, mettre à jour, supprimer, définir la priorité ou définir avec priorité).</dd>
		<dt class="optional">priority<span class="property-type">nombre</span></dt>
		<dd>la priorité à appliquer aux données. Par défaut 1.</dd>
		<dt class="optional">topic<span class="property-type">chaîne de caractères</span></dt>
		<dd>le chemin des données à ajouter/modifier. Par défaut 'topic'.</dd>
	</dl>
	<h3>Détails</h3>
	<p>Ce noeud vous permet d'ajouter/modifier des données à/de la base de données.</p>
	<ul>
		<li><strong>Définir</strong> : écrase les données à chaque écriture.</li>
		<li><strong>Pousser</strong> : ajoute les données à la référence Firebase en tant que nouvelle référence enfant avec une clé unique.</li>
		<li><strong>Mettre à jour</strong> : mets à jour les valeurs pour chaque clé correspondante dans la base de données.</li>
		<li><strong>Supprimer</strong> : les données de la référence Firebase et toutes les données enfants sont supprimées.</li>
		<li>
			<strong>Définir la priorité</strong> : la priorité est utilisée pour trier les enfants sous un parent spécifique ou dans une requête si
			aucune autre condition de tri n'est spécifiée.
		</li>
		<li><strong>Définir avec priorité</strong> : écrase les données et défini la priorité.</li>
	</ul>
	<p>
		Le <strong>Chemin</strong> détermine où les données seront écrites. Il peut être défini dans le noeud ou dynamiquement
		avec la propriété <code>msg.topic</code>.
	</p>
	<p>
		Le mot-clé réservé <code>"TIMESTAMP"</code> permet d'utiliser l'horodatage de la base de données.
		Il doit être écrit au format chaîne de caractères et peut également être utilisé dans un tableau ou un objet.
		L'exemple suivant écrira l'heure du serveur au format UNIX à l'emplacement "currentServerTimestamp".
	</p>
	<pre>
{
  payload: "TIMESTAMP",
  method: "set",
  path: "currentServerTimestamp"
}</pre>
	<p>
		Le mot-clé réservé <code>"INCREMENT [delta]"</code> précédé d'un entier positif ou négatif permet d'incrémenter
		une valeur numérique d'un delta.
		Il doit être écrit au format chaîne de caractères et peut être utilisé dans un tableau ou un objet.
		L'exemple suivant incrémentera la valeur de 1 à l'emplacement "updateIndex".
	</p>
	<pre>
{
  payload: "INCREMENT 1",
  method: "set",
  path: "updateIndex"
}</pre>
	<p>
		Cliquer <a href="https://github.com/GogoVega/node-red-contrib-firebase-realtime-database/wiki/firebase-out">ici</a> 
		pour en savoir plus sur l'utilisation de ce noeud.
	</p>
</script>
